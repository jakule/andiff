# This is the configuration for Travis CI, a free github-integrated service that runs this script for each pull request (if configured)

# Ubuntu 14.04 Trusty support
sudo: required
dist: trusty

# provides gcc, clang, make, scons, cmake
language: c++

# alternatives: gcc, clang, or both (as yaml list)
compiler: gcc

addons:
  apt:
    packages:
      - libbz2-dev
      - python3

before_install:
  # Don't touch source code directory
  - cd ..
  - wget https://cmake.org/files/v3.1/cmake-3.1.3-Linux-x86_64.tar.gz -O /tmp/cmake.tar.gz
  - tar xzf /tmp/cmake.tar.gz
  - export PATH=`pwd`/cmake-3.1.3-Linux-x86_64/bin/:${PATH}

script:
 - mkdir andiff-build
 - cd andiff-build
 - cmake -G"Unix Makefiles" -DCMAKE_BUILD_TYPE=Release ../andiff
 - cmake --build .
 - ctest -V

notifications:
  email: false
